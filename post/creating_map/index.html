<!doctype html>
<html ⚡ lang="en-us">
  <head>
    <meta charset="utf-8" />
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>

    
    

    
    <title>How to build a template map with data of AGROMET stations</title>

    
    




  
  <meta name="author" content="Loïc Davadan" />
  <meta name="description" content="One of the objectives of the AGROMET project is to make maps to view spatialized data. That’s why I tried to create a template map to view the different tests of spatialization.
To do that, I used data from the AGROMET API using methods I have already detailed before.
Get map of Wallonia Source : Raster data acquisition
We need an outline map to limit the map to Wallonia. We can get the font of Wallonia with getData() function." />

  
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@gohugoio" />
    <meta name="twitter:title" content="How to build a template map with data of AGROMET stations" />
    <meta name="twitter:description" content="One of the objectives of the AGROMET project is to make maps to view spatialized data. That’s why I tried to create a template map to view the different tests of spatialization.
To do that, I used data from the AGROMET API using methods I have already detailed before.
Get map of Wallonia Source : Raster data acquisition
We need an outline map to limit the map to Wallonia. We can get the font of Wallonia with getData() function." />
    <meta name="twitter:image" content="/img/avatar.jpg" />
  




<meta name="generator" content="Hugo 0.33">


<link rel="canonical" href="../../post/creating_map/">
<link rel="alternative" href="../../index.xml" title="Personal website of Loïc Davadan" type="application/atom+xml">


<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no" />


<meta name="robots" content="index,follow" />
<meta name="referrer" content="origin-when-cross-origin" />
<meta name="google-site-verification" content="" />
<meta name="msvalidate.01" content="" />


<link rel="icon" href="../../img/favicon.ico" />
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="apple-touch-icon" sizes="120x120" href="../../img/avatar.jpg">


<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel="stylesheet">
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<style amp-custom>/*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}@font-face{font-family:fe;font-weight:400;font-style:normal;src:url(/fonts/fe.eot?17482317);src:url(/fonts/fe.eot?17482317#iefix) format("embedded-opentype"),url(/fonts/fe.woff2?17482317) format("woff2"),url(/fonts/fe.woff?17482317) format("woff"),url(/fonts/fe.ttf?17482317) format("truetype"),url(/fonts/fe.svg?17482317#fe) format("svg")}.icon{font-family:fe;font-style:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-menu:before{content:"\e802"}.icon-email:before{content:"\e804"}.icon-rss:before{content:"\e803"}.icon-github:before{content:"\f09b"}.icon-dribbble:before{content:"\f31b"}.icon-linkedin:before{content:"\f318"}.icon-twitter:before{content:"\f309"}.icon-facebook:before{content:"\f30c"}.icon-instagram:before{content:"\f16d"}.icon-youtube:before{content:"\f16a"}.icon-google:before{content:"\f30f"}.icon-clock:before{content:"\e800"}.share{font-family:fe;font-weight:400;margin-left:.2rem;display:inline-block;text-align:center;border:none;outline:none;color:#fff;width:30px;height:30px;border-radius:50%}.share-twitter{background-color:#55acee}.share-twitter:before{content:"\f309"}.share-facebook{background-color:#3b5998}.share-facebook:before{content:"\f30c"}.share-google{background-color:#dd4b39}.share-google:before{content:"\f30f"}body{font-size:18px;font-weight:300;line-height:1.618;font-family:Roboto,sans-serif;color:#777;background:#fff;text-rendering:optimizeLegibility;-webkit-overflow-scrolling:touch}a{color:#3f9adc;text-decoration:none;font-weight:600}a:focus,a:hover{opacity:.7;outline:none}amp-img{margin:0 auto;box-shadow:2px 20px 40px 10px rgba(0,0,0,.15)}button:hover{cursor:pointer}.main{margin-left:20rem;padding:1rem 2rem;max-width:100%;min-height:100vh;box-sizing:border-box}@media screen and (max-width:1440px){.main{width:calc(100% - 20rem)}}@media (min-width:800px) and (max-width:960px){.main{margin-left:15rem;width:calc(100% - 15rem)}}@media screen and (max-width:800px){.main{margin-left:0;padding:0 1rem 1rem;width:100%;min-height:0;border-left:none;border-right:none;border-top:1px solid rgba(0,0,0,.09);border-bottom:1px solid rgba(0,0,0,.09)}}.footer{display:none}@media screen and (max-width:800px){.footer{display:block;padding:1rem;font-size:.8rem;text-align:center;font-family:Roboto Mono,Menlo,Monaco,Consolas,Courier New,monospace}}.header{position:fixed;left:0;top:0;bottom:0;width:20rem;padding:1rem;box-sizing:border-box;text-align:center;background-color:rgba(121,169,54,.9)}@media screen and (max-width:800px){.header{width:100%;position:relative}}@media (min-width:800px) and (max-width:960px){.header{width:15rem}}.logo{margin-top:3rem;border-radius:20%;border:4px solid #fff;transition:all .5s ease-out}.logo:hover{border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,.3)}@media screen and (max-width:800px){.logo{position:absolute;top:1rem;left:1rem;width:2rem;height:2rem;margin-top:0;border:2px solid #fff}}.title{font-size:1.5rem;font-family:Roboto,sans-serif;font-weight:600;margin:1rem auto}@media screen and (max-width:800px){.title{margin:0 auto}}.subtitle,.title a{color:#fff}.subtitle{margin-bottom:1rem;opacity:.8}.menu{display:none}@media screen and (min-width:800px){.menu{display:block}}.menu-list{list-style:none;padding:0}.menu-item{padding:1rem 0}.menu-item a{font-weight:100;opacity:.8;color:#fff}.menu-item a:focus,.menu-item a:hover{opacity:1}.menu-item.is-active a{color:#3d404a;opacity:1;font-weight:700}.menu-toggle{border:none;outline:none;font-size:2rem;background-color:transparent;color:#fff;position:absolute;top:1rem;right:1rem}@media screen and (min-width:800px){.menu-toggle{display:none}}.sidebar{background-color:#fff;width:100vw}@media screen and (min-width:640px){.sidebar{width:50vw}}.sidebar-list{list-style:none;padding:0;margin:0}.sidebar-menu{text-align:right;padding:16px}.sidebar-item{font-size:2rem;padding:30px 35px 30px 25px;border-top:1px solid #dbdbdb}.sidebar-item:hover{background-color:#f4f3f1}.sidebar-icon{border:none;outline:none;background-color:transparent;font-family:Roboto,sans-serif;font-weight:100;font-size:2rem}.sidebar-link{color:#000;font-weight:100}.social-list{margin:0;padding:0;list-style:none}@media screen and (min-width:800px){.social-list{position:absolute;bottom:10px;left:0;right:0}}.social-item{display:inline-block;margin:0 .2rem}.social-item a{color:#fff;font-weight:400}.entry-list{background-color:#f5f5f5}@media screen and (max-width:800px){.entry-list{padding-top:30px}}.entry-single{line-height:1.8;margin-bottom:22px;background-color:#fff;box-shadow:0 0 2px 0 rgba(137,146,177,.15),0 3px 10px 0 rgba(137,146,177,.1);border-radius:5px}.entry-single:hover{box-shadow:0 1px 15px 0 rgba(137,146,177,.15),0 10px 20px 0 rgba(137,146,177,.15)}.entry-cover{max-width:100%;border-radius:5px 5px 0 0;-o-object-fit:cover;object-fit:cover;box-shadow:none}.entry-title{margin:0;padding:20px 30px 0}.entry-link{font-size:1.5rem;font-weight:600;color:#2c2c2c}.entry-summary{padding:0 30px;text-align:justify;max-height:4rem;overflow:hidden}.entry-footer{margin:0 30px;padding:10px 0;border-top:1px solid rgba(0,0,0,.15);display:flex;justify-content:space-between}.entry-meta{margin:0;font-size:.8rem;letter-spacing:1px;text-transform:uppercase}.entry-time{color:#333}.entry-time:after{content:"";border-right:1px solid rgba(0,0,0,.2);margin:0 8px 0 10px}.pagination{display:flex;justify-content:flex-start}.pagination-btn{color:#777;padding:.8rem;background-color:#fff;border:1px solid #dbdbdb;font-size:.8rem;text-transform:uppercase;border-radius:5px}.pagination-btn:focus,.pagination-btn:hover{color:#fff;background-color:#6aac0e;border-color:#6aac0e}.pagination-next{margin-left:auto}.post-header:after{display:block;content:"";border-bottom-width:3px;border-bottom-style:solid;width:60px;padding-top:10px;border-bottom-color:#6aac0e}.post-title{font-size:2rem;color:#2c2c2c;line-height:1.5;margin-top:1.5rem;margin-bottom:.5rem}.post-footer{margin:1rem 0;line-height:1.8}.post-tags{margin-top:0;margin-bottom:1rem;padding-left:0}.post-tag{display:inline-block;margin:0 .5rem 0 0;border-radius:3px;padding:5px 10px;background:#f4f3f1;font-size:.8rem}.post-tag:hover{background:#dbdbdb;box-shadow:0 1px 15px 0 rgba(137,146,177,.15),0 10px 20px 0 rgba(137,146,177,.15)}.post-content{line-height:1.8}.post-content h1,.post-content h2,.post-content h3,.post-content h4,.post-content h5,.post-content h6{color:#7db500;font-weight:700;line-height:1.125}.post-content h1{margin-top:2rem;margin-bottom:1rem;font-size:2rem}.post-content h2{margin-top:1.75rem;margin-bottom:.75rem;font-size:1.5rem}.post-content h3{margin-top:1.5rem;margin-bottom:.5rem;font-size:1.25rem}.post-content h4{margin-top:1.25rem;margin-bottom:.25rem;font-size:1rem}.post-content h5,.post-content h6{margin-top:1rem;margin-bottom:0;font-size:.8rem}.post-content li+li{margin-top:.5rem}.post-content em{color:#797979;font-style:italic}.post-content strong{color:#3d404a}.post-content del{color:#797979;text-decoration:line-through}.post-content ins{color:#3d404a;text-decoration:underline}.post-content hr{position:relative;margin:2rem auto;border-top:1px dashed #dbdbdb;border-bottom:none}.post-content hr:before{content:"sep line";position:absolute;top:-12px;left:calc(50% - 40px);padding:0 .5rem;background-color:#fff;color:#dbdbdb;font-size:.8rem;font-family:Roboto Mono,Menlo,Monaco,Consolas,Courier New,monospace}.post-content p{margin-top:1.5rem;margin-bottom:1.5rem;text-align:justify}.post-content blockquote{background-color:#f4f3f1;border-left:5px solid #dbdbdb;padding:.5rem 1rem;margin:2rem 0}.post-content blockquote p{margin-top:.5rem;margin-bottom:.5rem}.post-content blockquote cite{margin-top:1.5rem;color:#797979;font-size:.9rem}.post-content code,.post-content tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:.9em;background-color:#dbdbdb;font-family:Roboto Mono,Menlo,Monaco,Consolas,Courier New,monospace}.post-content code:after,.post-content code:before,.post-content tt:after,.post-content tt:before{letter-spacing:-.2em;content:"\00a0"}.post-content kbd{display:inline-block;padding:.25em;background-color:#fafafa;border:1px solid #dbdbdb;border-bottom-color:#b5b5b5;border-radius:3px;box-shadow:inset 0 -1px 0 #b5b5b5;font-size:.8em;line-height:1.25;font-family:Roboto Mono,Menlo,Monaco,Consolas,Courier New,monospace;color:#777}.post-content pre{margin:2rem auto;padding:1rem;overflow-x:auto;border-radius:3px;font-size:.9rem;line-height:1.618;white-space:pre;word-wrap:normal;word-break:normal;background:#dbdbdb;color:#777}.post-content pre code{font-size:.9rem;background-color:transparent}.post-content pre code:after,.post-content pre code:before{content:none}.post-content sub,.post-content sup{font-size:.8rem}.post-content sub a,.post-content sub a:focus,.post-content sub a:hover,.post-content sup a,.post-content sup a:focus,.post-content sup a:hover{border-bottom:none}.post-content ol{margin-left:0;margin-top:2rem;margin-bottom:2rem;padding-left:1.5rem;list-style:decimal outside}.post-content ol ol{margin-top:.5rem;margin-bottom:.5rem;list-style:lower-roman outside}.post-content ol ul{margin-top:.5rem;margin-bottom:.5rem;list-style:disc outside}.post-content ul{margin-left:0;margin-top:2rem;margin-bottom:2rem;padding-left:1.5rem;list-style:disc outside}.post-content ul ul{margin-top:.5rem;margin-bottom:.5rem;list-style:circle outside}.post-content ul ol{margin-top:.5rem;margin-bottom:.5rem;list-style:decimal outside}.post-content dl{margin-top:2rem;margin-bottom:2rem}.post-content dl dt{color:#6aac0e;margin-top:1rem}.post-content dl dt:after{content:":"}.post-content dl dd{text-indent:2rem;margin-left:0;margin-top:.25rem}.post-content figure{display:block;margin:2rem auto}.post-content figure img{max-width:100%;box-shadow:2px 20px 40px 10px rgba(0,0,0,.15)}@media screen and (max-width:800px){.post-content figure img{box-shadow:none}}.post-content figure figcaption h4{color:#b5b5b5;font-size:.9rem;text-align:center}table{background-color:#f4f3f1;color:#3d404a;margin:2rem auto;width:100%;border-collapse:collapse;border-radius:5px}table td,table th{border:1px solid #dbdbdb;border-width:0 0 1px;padding:.5em .75em;vertical-align:center}table th{color:#3d404a}table tr:hover{background-color:#dbdbdb}table thead td,table thead th{border-width:0 0 2px;color:#797979}table tfoot td,table tfoot th{border-width:2px 0 0;color:#797979}table tbody tr:last-child td,table tbody tr:last-child th{border-bottom-width:0}table tr:first-child th:first-child{border-top-left-radius:5px}table tr:first-child th:last-child{border-top-right-radius:5px}table tr:last-child td:first-child{border-bottom-left-radius:5px}table tr:last-child td:last-child{border-bottom-right-radius:5px}.not-found{margin:5rem auto 0;font-family:Roboto Mono,Menlo,Monaco,Consolas,Courier New,monospace;text-align:center}.error-emoji{color:#3d404a;font-size:3rem}.error-text{font-size:1.25rem}.error-link{margin-top:2rem;font-size:1rem;color:#6aac0e}</style>

  </head>
  <body>
    <amp-sidebar id="sidebar" class="sidebar" layout="nodisplay" side="right">
  <ul class="sidebar-list">
    <li class="sidebar-menu"><button class="sidebar-icon" on="tap:sidebar.close">X</button></li>
    
    
    
    
      <li class="sidebar-item "><a class="sidebar-link" href="../../post/">Posts</a></li>
    
      <li class="sidebar-item "><a class="sidebar-link" href="../../about/">About</a></li>
    
      <li class="sidebar-item "><a class="sidebar-link" href="../../tags/">Tags</a></li>
    
  </ul>
</amp-sidebar>

    
  <header class="header">
  <amp-img alt="Personal website of Loïc Davadan"
    width="128px"
    height="128px"
    class="logo"
    src=""
    sizes="(max-width: 800px) 36px, 128px">
  </amp-img>
  
    <h2 class="title"><a href="../../" title="Personal website of Loïc Davadan">Personal website of Loïc Davadan</a></h2>
  
  <p class="subtitle">Personal website for my internship</p>
  <button class="menu-toggle" type="button" on="tap:sidebar.open">
    <span class="icon icon-menu"></span>
  </button>

  
  <nav class="menu">
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item "><a href="../../post/">Posts</a></li>
      
        <li class="menu-item "><a href="../../about/">About</a></li>
      
        <li class="menu-item "><a href="../../tags/">Tags</a></li>
      
    </ul>
  </nav>

  <ul class="social-list">
  
  <li class="social-item">
    <a href="mailto:loic.davadan@agro-bordeaux.fr" title="Email"><span class="icon icon-email"></span></a>
  </li>

  
  <li class="social-item">
    <a href="//github.com/https://github.com/ldavadan" title="GitHub"><span class="icon icon-github"></span></a>
  </li>

  

  <li class="social-item">
    <a href="//www.linkedin.com/in/www.linkedin.com/in/lo%c3%afc-davadan-886b00145" title="Linkedin"><span class="icon icon-linkedin"></span></a>
  </li>

  

  

  

  

  

  <li class="social-item">
    <a href="../../index.xml" title="RSS"><span class="icon icon-rss"></span></a>
  </li>
</ul>

</header>

  <section class="main post-detail">
    <header class="post-header">
      <h1 class="post-title">How to build a template map with data of AGROMET stations</h1>
      <p class="entry-meta"><span class="entry-time">Jun 7, 2018</span> 3 min read</p>
    </header>
    

    <article class="post-content"><p>One of the objectives of the AGROMET project is to make maps to view spatialized data. That’s why I tried to create a template map to view the different tests of spatialization.</p>
<p>To do that, I used data from the <a href="https://ldavadan.github.io/post/using-agromet-api-to-get-weather-data/">AGROMET API</a> using methods I have already detailed before.</p>
<div id="get-map-of-wallonia" class="section level1">
<h1>Get map of Wallonia</h1>
<p>Source : <a href="https://www.gis-blog.com/r-raster-data-acquisition/">Raster data acquisition</a></p>
<p>We need an outline map to limit the map to Wallonia. We can get the font of Wallonia with <code>getData()</code> function.</p>
</div>
<div id="create-a-template-to-view-spatialized-data" class="section level1">
<h1>Create a template to view spatialized data</h1>
<div id="prepare-a-data-set-to-spatialize" class="section level2">
<h2>Prepare a data set to spatialize</h2>
<p>We have made a sample data set with one hour of record from all the stations and we spatialized temperature from a model which predict temperature on altitude, orientation and slope. This model is false but is sufficient to realize a first test for the template map.</p>
</div>
<div id="build-the-map" class="section level2">
<h2>Build the map</h2>
<div id="a-few-things-about-updates-and-installation-of-packages" class="section level3">
<h3>A few things about updates and installation of packages</h3>
<p>For the creation of the template, I used an R package : <code>tmap</code>. All the informations about this package are available to this <a href="https://cran.r-project.org/web/packages/tmap/vignettes/tmap-nutshell.html#static-plot-and-interactive-view">link</a>.</p>
<p>However, the installation of this package needs the installation of some dependencies on Linux to run correctly. The <a href="https://github.com/mtennekes/tmap">GitHub repository of tmap</a> has a script for the installation of all the dependencies.</p>
<p>I remind that I work on a virtual machine. This one had to be updated because the dependencies were not installed. The virtual machine runs with Docker, so it is the container Docker which was updated by rebuilding the image.</p>
<p><em>NB</em> : Working in a virtual machine enable to do these actions without any risk. If you do not use a virtual machine, you have the risk to break your environment and spend a lot of time to rebuild it. The only inconvenient of the virtual machine is that you need to do the installation of the package every time you reload the machine if this package is not installed in the container.</p>
<p>Once the installation of tmap is done, a lot of options to create maps are available.</p>
<pre class="r"><code>create_map_tsa &lt;- function(
  spatial_data.sp = NULL,
  method.chr = NULL,
  type.chr = NULL){
  
  
  library(tmap)

  be.sp &lt;- getData(&#39;GADM&#39;, country = &#39;BE&#39;, level = 1, download = TRUE)
  wallonie.sp &lt;- be.sp[be.sp$NAME_1 == &quot;Wallonie&quot;,]
  wallonie.3812.sp &lt;- spTransform(wallonie.sp, CRS(projargs = dplyr::filter(rgdal::make_EPSG(), code == &quot;3812&quot;)$prj4))
  file &lt;- &quot;../../data/craw.png&quot;
  
  static &lt;- tm_shape(spatial_data.sp, projection=&quot;3812&quot;) +            # Projection : Belgian Lambert
    tm_raster(&quot;response&quot;,                                             # spatialize temperature
              palette = &quot;-RdYlBu&quot;,
              title = &quot;Temperature (°C)&quot;,
              auto.palette.mapping=FALSE,
              breaks = c(quantile(spatial_data.sp$response, 0, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.1, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.2, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.3, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.4, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.5, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.6, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.7, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.8, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 0.9, na.rm = TRUE),
                         quantile(spatial_data.sp$response, 1, na.rm = TRUE))) +
    tm_compass(position = c(0.9,0.15), color.light = &quot;grey20&quot;) +      # north
    tm_scale_bar(breaks = NULL, width = NA, size = 0.8, text.color = &quot;grey20&quot;,  # scale bar 
                 color.dark = &quot;grey20&quot;, color.light = &quot;white&quot;, lwd = 1, position = c(0.22,0.01),
                 just = NA) +
    tm_logo(file, height = 2, halign = &quot;center&quot;, margin = 0.2,        # CRA-W logo
            position = c(-0.01,-0.04), just = NA) +
    tm_shape(wallonie.3812.sp) +                                      # outline of Wallonia
    tm_borders(&quot;grey20&quot;, lwd = 1.5) +
    tm_layout(legend.position = c(0.01,0.14),                         # parameters
              legend.height = 0.55,
              legend.text.size = 0.7,
              legend.bg.color = &quot;white&quot;,
              legend.title.size = 0.9,
              inner.margins = c(0.03, 0.03, 0.07, 0.03),
              frame.lwd = 0,
              bg.color = &quot;grey85&quot;,
              main.title = paste(&quot;Interpolated temperature with &quot;, method.chr),
              title = &quot;Resolution : 1 km²&quot;, 
              title.size = 0.6, 
              title.position = c(0.01, 0.96)) +
    tm_credits(&quot;© CRA-W&quot;, position = c(.87, 0))
  
  if(type.chr == &quot;static&quot;) {
    return(static)
  }else{
    interactive &lt;- tmap_leaflet(static)
    return(interactive)
  }
}
create_map_tsa(spatial_data.sp = gridded.3812.sp, type.chr = &quot;static&quot;, method.chr = &quot;&lt;na&gt;&quot;)</code></pre>
<p><img src="../../post/creating_map_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
</div>
</div>
</article>
    <footer class="post-footer">
      
      <div class="sharing">
        <a class="share share-facebook" target="_blank" href="https://facebook.com/sharer/sharer.php?u=%2fpost%2fcreating_map%2f" title="Share on Facebook"></a>
        <a class="share share-twitter" target="_blank" href="https://twitter.com/intent/tweet/?text=How%20to%20build%20a%20template%20map%20with%20data%20of%20AGROMET%20stations&amp;url=%2fpost%2fcreating_map%2f" title="Share on Twitter"></a>
        <a class="share share-google" target="_blank" href="https://plus.google.com/share?url=How%20to%20build%20a%20template%20map%20with%20data%20of%20AGROMET%20stations&amp;url=%2fpost%2fcreating_map%2f" title="Share on Google+"></a>
      </div>
    </footer>
  </section>
  <footer class="footer">
  <p>Copyright © 2018 Personal website of Loïc Davadan</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/huyb1991/hugo-lamp" title="Hugo LAMP" target="_blank">LAMP</a>.</p>
</footer>







  </body>
</html>
